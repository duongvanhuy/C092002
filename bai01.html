<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="../fileCSS/gioHang.css">
    <title>Document</title>
</head>

<body>
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên Sv</th>
                <th>Điểm quá trình</th>
                <th>Điểm thi</th>
                <th>Tổng điểm</th>
            </tr>
        <tbody id="after_run">
        </tbody>
        </thead>
    </table>
    <h1>Danh sách thi viên cấm thi </h1>
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên sinh viên</th>
                <th>Tổng điểm</th>
            </tr>
        </thead>
        <tbody id="retest">

        </tbody>
    </table>
    <h1>Daanh sách xếp loại sinh viên </h1>
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên sinh viên</th>
                <th>Tổng điểm</th>
                <th>Xếp loại</th>
            </tr>
        </thead>
        <tbody id="xeploai">

        </tbody>
    </table>
    <h1>Danh sách sinh viên nhận học bổng</h1>
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên sinh viên</th>
                <th>Tổng điểm</th>
                <th>Xếp loại</th>
            </tr>
        </thead>
        <tbody id="hocbong">

        </tbody>
    </table>
    <script>
        let students = [];
        let xeploai = '';
        // let n = 10;
        // let name = prompt('Nhập tên của sinh viên');
        // let diemQT = prompt('Nhập điểm quá trình');
        // let diemTHI =prompt('Nhập điểm thi');;
        // let tong = (diemQT + diemTHI) / 2;
        // let ArrayStudent = new Array(n);
        function init() {


            class student {
                constructor(name, diemQT, diemTHI) {
                    this.name = name;
                    this.diemQT = diemQT;
                    this.diemTHI = diemTHI;
                }
                sumTest() {
                    let sum = (this.diemQT + this.diemTHI) / 2;
                    return sum;
                }
            }

            // for (let i = 0; i < ArrayStudent.length; i++) {
            //     let name = prompt('Nhập tên của sinh viên thứ ' +i+1);
            //     let diemQT = prompt('Nhập điểm quá trình thứ' +i+1);
            //     let diemTHI = prompt('Nhập điểm thi thứ' +i+1);;
            // }
            let student_01 = new student('Huy', 8, 9);
            let student_02 = new student('Long', 9, 9);
            let student_03 = new student('An', 9, 10);
            let student_04 = new student('Minh', 10, 10);
            let student_05 = new student('Quốc', 7, 9);
            let student_06 = new student('Huyền', 9, 9);
            let student_07 = new student('Tân', 9, 6);
            let student_08 = new student('Hân', 9, 10);
            let student_09 = new student('Bảo', 5, 7);
            let student_10 = new student('Tuấn', 6, 3);
            students.push(student_01, student_02, student_03, student_04, student_05,
                student_06, student_07, student_08, student_09, student_10);
            alert(students[0].sumTest());
        }

        function showTT(students) {
            let show = document.getElementById('after_run');
            for (let i = 0; i < students.length; i++) {
                show.innerHTML += `
                <tr> 
                    <td>${i + 1}</td>
                    <td>${students[i].name}</td>
                    <td>${students[i].diemQT}</td>
                    <td>${students[i].diemTHI}</td>
                    <td>${students[i].sumTest()}</td>
                </tr>
                `;
                // alert(students.length);
            }
        }
        //  xây đựng danh sách sinh viên thi lại;
        function retest(){
            let show = document.getElementById('retest');

            for( let  i=0; i< students.length; i++){
                if(students[i].sumTest()<5){
                show.innerHTML += `
                <tr>
                    <td>${i+1}</td>
                    <td>${students[i].name}</td>
                    <td>${students[i].sumTest()}</td>
                </tr>
                `

                }
            }
        }
        // 
        //  xây dựng hàm xếp loại sinh viên
        //  check thêm điều kiện sum<=10 và sum sum>=0
        function xepLoai(){
            let show = document.getElementById('xeploai');
            for(let i=0; i< students.length; i++){
                if(students[i].sumTest()>=8){
                    xeploai = 'A'
                }
                else if(students[i].sumTest()>=6.5){
                    xeploai ='B';
                }
                else if(students[i].sumTest()>=5){
                    xeploai ='C';
                }
                else{
                    xeploai = 'D';
                }
                show.innerHTML += `
                <tr>
                    <td>${i+1}</td>
                    <td>${students[i].name}</td>
                    <td>${students[i].sumTest()}</td>
                    <td>${xeploai}</td>

                </tr>
                `
            }
        }
        //  danh sách sinh viên nhận học bổng ( số lượng 3);
        function hocBong(){
            // let max = students[0].sumTest();
            // xepLoai();
           let show = document.getElementById('hocbong');

            //     // if(max < students[i].sumTest()){
            //     //     max = students[i].sumTest();
            //     // }
                students.sort(function(a,b){
                    return b.sumTest() -a.sumTest();
                })
                for(let i=0; i< 3; i++){
                    if(students[i].sumTest()>=8){
                    xeploai = 'A'
                }
                else if(students[i].sumTest()>=6.5){
                    xeploai ='B';
                }
                else if(students[i].sumTest()>=5){
                    xeploai ='C';
                }
                else{
                    xeploai = 'D';
                }

                show.innerHTML+=`
                <tr>
                    <td>${i+1}</td>
                    <td>${students[i].name}</td>
                    <td>${students[i].sumTest()}</td>
                    <td>${xeploai}</td>

                </tr>
                `
            }
        }
        function run() {
            init();
            showTT(students);
            retest();
            xepLoai();
            hocBong();
        }
        run();
    </script>
</body>

</html>